---
ID: "b08bd0a9-0c97-454f-ae10-a6d13a87834e"
Parent: "d800c068-9717-49a0-961e-f913d7c0053c"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: "/sitecore/media library/Themes/OneWeb/OneWeb/OneWeb/OneWeb/Scripts/3-mega-nav"
DB: master
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/B08BD0A90C97454FAE10A6D13A87834E.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "f08a13c6-4766-4c13-9503-7b70410a7558"
  Value: dmFyIG1lZ2FOYXYgPSAoZnVuY3Rpb24gKCkgew0KICAgIHZhciBpbml0ID0gZnVuY3Rpb24gKCkgew0KICAgICAgICBfbWVnYU1lbnUoKTsNCiAgICAgICAgX21lZ2FtZW51aG92ZXJFbmFibGVkKCkNCg0KICAgIH0sDQoNCiAgICAgICAgX21lZ2FNZW51ID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgbGV0IGxpc3RpdGVtID0gJCgnLm1lZ2EtbmF2ID4gbGkgPiBhJyk7DQogICAgICAgICAgICBsZXQgbWVnYUxpc3QgPSAkKCcubWVnYS1uYXYgLmhhcy1jaGlsZCA+IGEnKQ0KICAgICAgICAgICAgbGV0IG1vYmlsZU1lbnUgPSAkKCIuaGFuZGJ1cmdlciIpOw0KICAgICAgICAgICAgbGV0IGJhY2t0b3ByZXYgPSAkKCIuYmFjay10by1tZW51Iik7DQogICAgICAgICAgICBsZXQgbW9iaWxlc2VhcmNoID0gJCgnLm1vYmlsZS1zZWFyY2gnKQ0KICAgICAgICAgICAgbGV0IF9pbm5lckhlaWdodCA9IDA7DQoNCiAgICAgICAgICAgIGlmIChsaXN0aXRlbSkgew0KDQogICAgICAgICAgICAgICAgW10ubWFwLmNhbGwobGlzdGl0ZW0sIGZ1bmN0aW9uIChvcGVuaXRlbSkgew0KICAgICAgICAgICAgICAgICAgICAkKG9wZW5pdGVtKS5vbignY2xpY2sgZm9jdXMnLCBmdW5jdGlvbiAoZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZGVib3VuY2UoZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5tZWdhLW5hdi1sZXZlbDInKS5jc3MoIm1pbi1oZWlnaHQiLCAyKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKG9wZW5pdGVtKS5wYXJlbnQoKS5oYXNDbGFzcygnaGFzLW1lbnUnKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJChvcGVuaXRlbSkucGFyZW50KCkuaGFzQ2xhc3MoJ21lbnUtb3BlbicpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG9wZW5pdGVtKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnbWVudS1vcGVuJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ21lbnUtb3ZlcmZsb3cnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ25hdiAuaGFzLWNoaWxkJykucmVtb3ZlQ2xhc3MoJ2xpc3Qtb3BlbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG9wZW5pdGVtKS5wYXJlbnQoKS5hZGRDbGFzcygnbWVudS1vcGVuJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnbWVudS1vcGVuJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ21lbnUtb3ZlcmZsb3cnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmhhcy1tZW51JykucmVtb3ZlQ2xhc3MoJ21lbnUtb3BlbicpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ21lbnUtb3ZlcmZsb3cnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnbmF2IC5oYXMtY2hpbGQnKS5yZW1vdmVDbGFzcygnbGlzdC1vcGVuJykNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKG1lZ2FMaXN0KSB7DQogICAgICAgICAgICAgICAgW10ubWFwLmNhbGwobWVnYUxpc3QsIGZ1bmN0aW9uIChzdWJDaGlsZCkgew0KICAgICAgICAgICAgICAgICAgICAkKHN1YkNoaWxkKS5vbignY2xpY2sgZm9jdXMnLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIGRlYm91bmNlKGZ1bmN0aW9uICgpIHsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoc3ViQ2hpbGQpLnBhcmVudCgpLmFkZENsYXNzKCdsaXN0LW9wZW4nKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdsaXN0LW9wZW4nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHN1YkNoaWxkKS5wYXJlbnQoKS5maW5kKCcuaGFzLWNoaWxkJykucmVtb3ZlQ2xhc3MoJ2xpc3Qtb3BlbicpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IDk5MSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW5uZXJIZWlnaHQgPSAwDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoc3ViQ2hpbGQpLnBhcmVudCgpLmZpbmQoJz51bCA+IGxpJykuZWFjaChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXZlbnRfaGVpZ2h0ID0gJCh0aGlzKS5vdXRlckhlaWdodCgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW5uZXJIZWlnaHQgPSBfaW5uZXJIZWlnaHQgKyBldmVudF9oZWlnaHQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ZWxlbWVudCA9ICQoJy5tZWdhLW5hdi1sZXZlbDInKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudGhlaWdodCA9ICQodGFyZ2V0ZWxlbWVudCkuaGVpZ2h0KCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IFRvdGFsSGVpZ2h0ID0gJCh0YXJnZXRlbGVtZW50KS5vdXRlckhlaWdodCgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBGaW5hbEhlaWdodCA9IFRvdGFsSGVpZ2h0IC0gY3VycmVudGhlaWdodA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudGhlaWdodCA9PiBfaW5uZXJIZWlnaHQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGFyZ2V0ZWxlbWVudCkuY3NzKCdtaW4taGVpZ2h0JywgX2lubmVySGVpZ2h0ICsgRmluYWxIZWlnaHQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW5uZXJIZWlnaHQgPSAwDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRhcmdldGVsZW1lbnQpLmNzcygnbWluLWhlaWdodCcsIGN1cnJlbnRoZWlnaHQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAobW9iaWxlTWVudSkgew0KICAgICAgICAgICAgICAgIFtdLm1hcC5jYWxsKG1vYmlsZU1lbnUsIGZ1bmN0aW9uIChtZW51T3Blbikgew0KICAgICAgICAgICAgICAgICAgICAkKG1lbnVPcGVuKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAkKCdib2R5JykudG9nZ2xlQ2xhc3MoJ29wZW4tbWVudScpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQoJy5tZWdhLXN0cmlwJykubGVuZ3RoID0gMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5tZWdhLXN0cmlwJykudG9nZ2xlQ2xhc3MoJ2Qtbm9uZScpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAobW9iaWxlc2VhcmNoKSB7DQogICAgICAgICAgICAgICAgW10ubWFwLmNhbGwobW9iaWxlc2VhcmNoLCBmdW5jdGlvbiAobWVudU9wZW4pIHsNCiAgICAgICAgICAgICAgICAgICAgJChtZW51T3Blbikub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgJCgnYm9keScpLnRvZ2dsZUNsYXNzKCdvcGVuLW1lbnUnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5nbG9iYWwtc2VhcmNoIGlucHV0JykuZm9jdXMoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5nbG9iYWwtc2VhcmNoIGlucHV0JykuZm9jdXMoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCkNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoYmFja3RvcHJldikgew0KICAgICAgICAgICAgICAgIFtdLm1hcC5jYWxsKGJhY2t0b3ByZXYsIGZ1bmN0aW9uIChiYWNrY3RhKSB7DQogICAgICAgICAgICAgICAgICAgICQoYmFja2N0YSkub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgJChiYWNrY3RhKS5jbG9zZXN0KCcuaGFzLWNoaWxkLmxpc3Qtb3BlbicpLnJlbW92ZUNsYXNzKCdsaXN0LW9wZW4nKTsNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KDQoNCiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljayBmb2N1cycsIGZ1bmN0aW9uIChldmVudCkgew0KICAgICAgICAgICAgICAgIHZhciBjbGlja292ZXIgPSAkKGV2ZW50LnRhcmdldCk7DQogICAgICAgICAgICAgICAgaWYgKCFjbGlja292ZXIucGFyZW50cygnLm1lZ2EtbmF2JykubGVuZ3RoICYmICFjbGlja292ZXIucGFyZW50cygnLm1lZ2EtbmF2LWxldmVsMScpLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICAkKCcubWVnYS1uYXYgLmhhcy1tZW51JykucmVtb3ZlQ2xhc3MoJ21lbnUtb3BlbicpDQogICAgICAgICAgICAgICAgICAgICQoJy5tZWdhLW5hdiAuaGFzLWNoaWxkJykucmVtb3ZlQ2xhc3MoJ2xpc3Qtb3BlbicpDQogICAgICAgICAgICAgICAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnbWVudS1vdmVyZmxvdycpDQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB9KQ0KDQoNCg0KICAgICAgICAgICAgdmFyIGRlYm91bmNlVGltZW91dDsNCiAgICAgICAgICAgIGZ1bmN0aW9uIGRlYm91bmNlKGNhbGxiYWNrKSB7DQogICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGRlYm91bmNlVGltZW91dCk7DQogICAgICAgICAgICAgICAgZGVib3VuY2VUaW1lb3V0ID0gc2V0VGltZW91dChjYWxsYmFjaywgNDAwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICAkKCdhLCBpbnB1dCwgZGl2Jykub24oJ2ZvY3VzJywgZnVuY3Rpb24gKGV2ZW50KSB7DQogICAgICAgIGxldCBfdGFyZ2V0ID0gJChldmVudC50YXJnZXQpLnBhcmVudHMoIm5hdiIpLmxlbmd0aA0KICAgICAgICBpZiAoIV90YXJnZXQgPT0gMSkgew0KICAgICAgICAgICAgJCgnLm1lZ2EtbmF2IC5oYXMtbWVudScpLnJlbW92ZUNsYXNzKCdtZW51LW9wZW4nKQ0KICAgICAgICAgICAgJCgnLm1lZ2EtbmF2IC5oYXMtY2hpbGQnKS5yZW1vdmVDbGFzcygnbGlzdC1vcGVuJykNCiAgICAgICAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnbWVudS1vdmVyZmxvdycpDQogICAgICAgIH0NCiAgICB9KQ0KDQoNCiAgICBfbWVnYW1lbnVob3ZlckVuYWJsZWQgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgIGxldCBkZXRlY3Rtb2JpbGUgPSAiIjsNCiAgICAgICAgbGV0IG1lbnVob3ZlcmNsaWNrID0gJCgnLm1haW4tbmF2aWdhdGlvbicpDQogICAgICAgIGxldCBsaXN0aXRlbSA9ICQoJy5ob3ZlckVuYWJsZWQgIGxpLmhhcy1kcm9wZG93biA+IGEnKTsNCiAgICAgICAgbGV0IHN1Ym1lbnUgPSAkKCcuaG92ZXJFbmFibGVkICAuZHJvcGRvd24tbWVudScpOw0KDQogICAgICAgIGlmIChsaXN0aXRlbSkgew0KICAgICAgICAgICAgW10ubWFwLmNhbGwobGlzdGl0ZW0sIGZ1bmN0aW9uIChvcGVuaXRlbSkgew0KICAgICAgICAgICAgICAgICQobGlzdGl0ZW0pLmhvdmVyKGZ1bmN0aW9uIChlKSB7DQogICAgICAgICAgICAgICAgICAgIGxldCBtZWdhc3RyaXAgPSAkKCcubWVnYS1zdHJpcC1maXhlZCcpLm91dGVySGVpZ2h0KCkNCiAgICAgICAgICAgICAgICAgICAgaWYgKCQoJ2JvZHknKS5oYXNDbGFzcygnc3RpY2t5JykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lZ2FzdHJpcCA9ICIiDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5zdG9wKHRydWUsIHRydWUpLnF1ZXVlKGZ1bmN0aW9uICh0YXJnZXQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vICQoJ2hlYWRlcicpLmFkZENsYXNzKCdwb3NpdGlvbi1maXhlZCcpDQogICAgICAgICAgICAgICAgICAgICAgICAkKCdoZWFkZXInKS5jc3MoJ3RvcCcsIG1lZ2FzdHJpcCkNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0aWNreWJvZHkoaGVhZGVyKQ0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQoKQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnN0b3AodHJ1ZSwgdHJ1ZSkucXVldWUoZnVuY3Rpb24gKHRhcmdldCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2hlYWRlcicpLnJlbW92ZUF0dHIoInN0eWxlIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJCgnaGVhZGVyJykucmVtb3ZlQ2xhc3MoJ3Bvc2l0aW9uLWZpeGVkJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkaXNhYmxzdGlja3lib2R5KGhlYWRlcikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChzdWJtZW51KSB7DQogICAgICAgICAgICBbXS5tYXAuY2FsbChzdWJtZW51LCBmdW5jdGlvbiAob3Blbml0ZW0pIHsNCiAgICAgICAgICAgICAgICAkKHN1Ym1lbnUpLmhvdmVyKGZ1bmN0aW9uIChlKSB7DQogICAgICAgICAgICAgICAgICAgIGxldCBtZWdhc3RyaXAgPSAkKCcubWVnYS1zdHJpcC1maXhlZCcpLm91dGVySGVpZ2h0KCkNCiAgICAgICAgICAgICAgICAgICAgaWYgKCQoJ2JvZHknKS5oYXNDbGFzcygnc3RpY2t5JykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lZ2FzdHJpcCA9ICIiDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5zdG9wKHRydWUsIHRydWUpLnF1ZXVlKGZ1bmN0aW9uICh0YXJnZXQpIHsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gJCgnaGVhZGVyJykuYWRkQ2xhc3MoJ3Bvc2l0aW9uLWZpeGVkJykNCiAgICAgICAgICAgICAgICAgICAgICAgICQoJ2hlYWRlcicpLmNzcygndG9wJywgbWVnYXN0cmlwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RpY2t5Ym9keShoZWFkZXIpDQogICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQoKQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnN0b3AodHJ1ZSwgdHJ1ZSkucXVldWUoZnVuY3Rpb24gKHRhcmdldCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2hlYWRlcicpLnJlbW92ZUF0dHIoInN0eWxlIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJCgnaGVhZGVyJykucmVtb3ZlQ2xhc3MoJ3Bvc2l0aW9uLWZpeGVkJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkaXNhYmxzdGlja3lib2R5KGhlYWRlcikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICgvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHsNCiAgICAgICAgICAgIGRldGVjdG1vYmlsZSA9ICJNb2JpbGUiDQogICAgICAgICAgICBpZiAoJChtZW51aG92ZXJjbGljaykuaGFzQ2xhc3MoImhvdmVyRW5hYmxlZCIpKSB7DQogICAgICAgICAgICAgICAgJChtZW51aG92ZXJjbGljaykucmVtb3ZlQ2xhc3MoJ2hvdmVyRW5hYmxlZCcpDQogICAgICAgICAgICB9DQogICAgICAgICAgICAkKCcuaGFzLWRyb3Bkb3duJykub24oJ3Nob3cuYnMuZHJvcGRvd24nLCBmdW5jdGlvbiAoZXZlbnQpIHsNCg0KICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnLmRyb3Bkb3duLW1lbnUnKS5zbGlkZURvd24oKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICQoJy5oYXMtZHJvcGRvd24nKS5vbignaGlkZS5icy5kcm9wZG93bicsIGZ1bmN0aW9uIChldmVudCkgew0KICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnLmRyb3Bkb3duLW1lbnUnKS5zbGlkZVVwKCkNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgICBkZXRlY3Rtb2JpbGUgPSAiRGVza3RvcCINCiAgICAgICAgICAgIGlmICgkKG1lbnVob3ZlcmNsaWNrKS5oYXNDbGFzcygiaG92ZXJFbmFibGVkIikpIHsNCiAgICAgICAgICAgICAgICAkKG1lbnVob3ZlcmNsaWNrKS5maW5kKCcuZHJvcGRvd24tdG9nZ2xlJykuYXR0cignZGF0YS10b2dnbGUnLCAnaG92ZXInKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgJCgnLmhhcy1kcm9wZG93bicpLm9uKCdzaG93LmJzLmRyb3Bkb3duJywgZnVuY3Rpb24gKGV2ZW50KSB7DQogICAgICAgICAgICAgICAgbGV0IG1lZ2FzdHJpcCA9ICQoJy5tZWdhLXN0cmlwLWZpeGVkJykub3V0ZXJIZWlnaHQoKQ0KICAgICAgICAgICAgICAgIC8vIHN0aWNreWJvZHkoaGVhZGVyKQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGlmICgkKCdib2R5JykuaGFzQ2xhc3MoJ3N0aWNreScpKSB7DQogICAgICAgICAgICAgICAgICAgIG1lZ2FzdHJpcCA9ICIiDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8vICQoJ2hlYWRlcicpLmNzcygndG9wJywgbWVnYXN0cmlwKQ0KICAgICAgICAgICAgICAgIC8vICQoJ2JvZHknKS5hZGRDbGFzcygnbWVudS1vdmVyZmxvdycpOw0KICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgLy8gaWYoJCgnLm93LXN0cmlwLWZpeGVkJykucG9zaXRpb24oKS50b3AgPCAxMCl7DQogICAgICAgICAgICAgICAgLy8gICAgIHZhciBzdGlja0hlaWdodCA9ICQoJy5vdy1zdHJpcC1maXhlZCcpLmhlaWdodCgpOw0KICAgICAgICAgICAgICAgIC8vICAgICAkKCdoZWFkZXInKS5jc3MoJ3RvcCcsIHN0aWNrSGVpZ2h0KQ0KICAgICAgICAgICAgICAgIC8vIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAkKCcuaGFzLWRyb3Bkb3duJykub24oJ2hpZGUuYnMuZHJvcGRvd24nLCBmdW5jdGlvbiAoZXZlbnQpIHsNCiAgICAgICAgICAgICAgICAvLyBkaXNhYmxzdGlja3lib2R5KGhlYWRlcikNCiAgICAgICAgICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ21lbnUtb3ZlcmZsb3cnKQ0KICAgICAgICAgICAgICAgDQogICAgICAgICAgICB9KQ0KDQogICAgICAgIH0NCiAgICB9DQoNCiAgICANCg0KICAgIC8vIGZ1bmN0aW9uIHN0aWNreWJvZHkoa2V5KSB7DQogICAgLy8gICAgIGxldCBpbnRzb2Zmc2V0ID0gJChrZXkpLm91dGVySGVpZ2h0KCkNCiAgICAvLyAgICAgICAgICQoJ2JvZHkgbWFpbicpLmNzcygncGFkZGluZy10b3AnLCBpbnRzb2Zmc2V0ICsgNSkNCiAgICAvLyB9DQogICAgLy8gZnVuY3Rpb24gZGlzYWJsc3RpY2t5Ym9keShrZXkpIHsNCiAgICAvLyAgICAgbGV0IGludHNvZmZzZXQgPSAkKGtleSkub3V0ZXJIZWlnaHQoKQ0KICAgIC8vICAgICAgICAgJCgnYm9keSBtYWluJykucmVtb3ZlQXR0cignc3R5bGUnKQ0KICAgIC8vIH0NCg0KDQogICAgcmV0dXJuIHsNCiAgICAgICAgaW5pdDogaW5pdA0KICAgIH07DQp9KSgpOw0KDQokKCkucmVhZHkoZnVuY3Rpb24gKCkgew0KICAgIG1lZ2FOYXYuaW5pdCgpOw0KfSk7
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 10446
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20220715T094233Z
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        sitecore\admin
