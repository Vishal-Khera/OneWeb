---
ID: "79b2f70a-3e92-4523-8275-8c5fcdcbdc7e"
Parent: "d800c068-9717-49a0-961e-f913d7c0053c"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: "/sitecore/media library/Themes/OneWeb/OneWeb/OneWeb/OneWeb/Scripts/3-utility"
DB: master
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/79B2F70A3E92452382758C5FCDCBDC7E.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "8a18b879-9993-48aa-96c8-a41369809ff7"
  Value: JCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoKSB7DQogICAgdmFyIHNjcm9sbFBvcyA9ICQod2luZG93KS5zY3JvbGxUb3AoKTsNCiAgICBpZiAoc2Nyb2xsUG9zID4gMCkgew0KICAgICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ3N0aWNreScpDQogICAgfSBlbHNlIHsNCiAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdzdGlja3knKQ0KICAgIH0NCn0pDQoNCg0KLy8gbGFuZ3VhZ2UganMNCiQoJy5qcy1sYW5ndWFnZScpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7DQogICAgdmFyIGdldHZhbCA9ICQodGhpcykudmFsKCk7DQogICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBnZXR2YWwNCn0pDQoNCiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHsNCiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTsNCiAgICAkKCcuZm9vdGVyLXllYXInKS50ZXh0KGRhdGUgKyAnICcpOw0KDQogICAgaWYoJCgnLmpzLWxhbmd1YWdlIC5Jc0FjdGl2ZScpLmxlbmd0aCl7DQogICAgICAgICQoJy5qcy1sYW5ndWFnZSAuSXNBY3RpdmUnKS5wcm9wKCdzZWxlY3RlZCcsIHRydWUpDQogICAgfQ0KDQogICAgWEEuaW5pdCgpOw0KfSkNCg0KDQokKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uICgpIHsNCiAgICB2YXIgc2Nyb2xsUG9zID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpOw0KICAgIGlmIChzY3JvbGxQb3MgPiAwKSB7DQogICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnc3RpY2t5JykNCiAgICB9IGVsc2Ugew0KICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ3N0aWNreScpDQogICAgfQ0KfSkNCiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHsNCiAgICBzdGlja3lTdHJpcCgpDQogICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7DQogICAgJCgnLmZvb3Rlci15ZWFyJykudGV4dChkYXRlICsgJyAnKTsNCg0KICAgICQoJ2JvZHknKS5hdHRyKCdvbnRvdWNoc3RhcnQnLCcnKQ0KDQogICAgaWYoJCgnI2ctcmVjYXB0Y2hhLXJlc3BvbnNlJykubGVuZ3RoKXsNCiAgICAgICAgbGV0IHRleHRhcmVhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImctcmVjYXB0Y2hhLXJlc3BvbnNlIik7DQogICAgICAgIHRleHRhcmVhLnNldEF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iLCAidHJ1ZSIpOw0KICAgICAgICB0ZXh0YXJlYS5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLCAiZG8gbm90IHVzZSIpOw0KICAgICAgICB0ZXh0YXJlYS5zZXRBdHRyaWJ1dGUoImFyaWEtcmVhZG9ubHkiLCAidHJ1ZSIpOw0KICAgIH0NCg0KICAgIERpc2FibGVDb29raWVwb3B1cCgpDQoNCiAgICBpZigkKCJbZGF0YS1tb2Itc3JjXSIpLmxlbmd0aCA+IDApew0KICAgICAgICB2YXIgZGF0YWltYWdlID0gJCgiW2RhdGEtbW9iLXNyY10iKQ0KICAgICAgICBkYXRhaW1hZ2UuZWFjaChmdW5jdGlvbigpew0KICAgICAgICAgICAgdmFyIGRhdGFTcmMgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtc3JjJyk7DQogICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtZGVza3RvcC1zcmMnLCBkYXRhU3JjKTsNCiAgICAgICAgICAgIGlmKCQodGhpcykuYXR0cignZGF0YS1tb2Itc3JjJykgPT0gJycpew0KICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1tb2Itc3JjJywgJCh0aGlzKS5hdHRyKCdkYXRhLWRlc2t0b3Atc3JjJykpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZigkKHRoaXMpLmhhc0NsYXNzKCdvdy1sYXp5bG9hZGVkJykpew0KICAgICAgICAgICAgICAgIGlmKCQod2luZG93KS53aWR0aCgpID49IDc2OCl7DQogICAgICAgICAgICAgICAgICAgIHZhciBkYXRhc291cmNlID0gJCh0aGlzKS5hdHRyKCdkYXRhLWRlc2t0b3Atc3JjJyk7DQoJCQkJCWlmKHRoaXMudGFnTmFtZSA9PSAnSU1HJyl7DQoJCQkJCQkkKHRoaXMpLmF0dHIoJ3NyYycsIGRhdGFzb3VyY2UpDQoJCQkJCX0NCgkJCQkJZWxzZXsNCgkJCQkJCSQodGhpcykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgJ3VybCgnICsgZGF0YXNvdXJjZSArICcpJykNCgkJCQkJfQ0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFzb3VyY2UgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtbW9iLXNyYycpOw0KICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnRhZ05hbWUgPT0gJ0lNRycpew0KCQkJCQkJJCh0aGlzKS5hdHRyKCdzcmMnLCBkYXRhc291cmNlKQ0KCQkJCQl9DQoJCQkJCWVsc2V7DQoJCQkJCQkkKHRoaXMpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsICd1cmwoJyArIGRhdGFzb3VyY2UgKyAnKScpDQoJCQkJCX0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlew0KICAgICAgICAgICAgICAgIGlmKCQod2luZG93KS53aWR0aCgpID49IDc2OCl7DQogICAgICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1zcmMnLCAkKHRoaXMpLmF0dHIoJ2RhdGEtZGVza3RvcC1zcmMnKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2V7DQogICAgICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1zcmMnLCAkKHRoaXMpLmF0dHIoJ2RhdGEtbW9iLXNyYycpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgfQ0KfSkNCg0KDQokKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uKCl7DQogICAgaWYoJCgiW2RhdGEtbW9iLXNyY10iKS5sZW5ndGggPiAwKXsNCiAgICAgICAgdmFyIGRhdGFtb2IgPSAkKCJbZGF0YS1tb2Itc3JjXSIpDQogICAgICAgIGRhdGFtb2IuZWFjaChmdW5jdGlvbigpew0KICAgICAgICAgICAgaWYoJCh0aGlzKS5oYXNDbGFzcygnb3ctbGF6eWxvYWRlZCcpKXsNCiAgICAgICAgICAgICAgICBpZigkKHdpbmRvdykud2lkdGgoKSA+PSA3Njgpew0KICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YXNvdXJjZSA9ICQodGhpcykuYXR0cignZGF0YS1kZXNrdG9wLXNyYycpOw0KCQkJCQlpZih0aGlzLnRhZ05hbWUgPT0gJ0lNRycpew0KCQkJCQkJJCh0aGlzKS5hdHRyKCdzcmMnLCBkYXRhc291cmNlKQ0KCQkJCQl9DQoJCQkJCWVsc2V7DQoJCQkJCQkkKHRoaXMpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsICd1cmwoJyArIGRhdGFzb3VyY2UgKyAnKScpDQoJCQkJCX0NCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2V7DQogICAgICAgICAgICAgICAgICAgIHZhciBkYXRhc291cmNlID0gJCh0aGlzKS5hdHRyKCdkYXRhLW1vYi1zcmMnKTsNCgkJCQkJaWYodGhpcy50YWdOYW1lID09ICdJTUcnKXsNCgkJCQkJCSQodGhpcykuYXR0cignc3JjJywgZGF0YXNvdXJjZSkNCgkJCQkJfQ0KCQkJCQllbHNlew0KCQkJCQkJJCh0aGlzKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCAndXJsKCcgKyBkYXRhc291cmNlICsgJyknKQ0KCQkJCQl9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZXsNCiAgICAgICAgICAgICAgICBpZigkKHdpbmRvdykud2lkdGgoKSA+PSA3Njgpew0KICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtc3JjJywgJCh0aGlzKS5hdHRyKCdkYXRhLWRlc2t0b3Atc3JjJykpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBlbHNlew0KICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtc3JjJywgJCh0aGlzKS5hdHRyKCdkYXRhLW1vYi1zcmMnKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KQ0KDQogICAgICAgIA0KICAgIH0NCn0pDQoNCi8vY2xvc2Ugc3J0cmlwIFwNCiQoJy5zdHJpcGNsb3NlYnRuJykuY2xpY2soZnVuY3Rpb24oZXZlbnQpew0KICAgICQodGhpcykucGFyZW50cygnLm93LWhlYWRlci1zdHJpcCcpLnJlbW92ZSgpDQp9KQ0KDQoNCmZ1bmN0aW9uIERpc2FibGVDb29raWVwb3B1cCgpew0KICAgIHZhciB1cmwgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7DQogICAgdmFyIGZpbGVuYW1lID0gdXJsLnN1YnN0cmluZyh1cmwubGFzdEluZGV4T2YoJy8nKSsxKTsNCiAgICBsZXQgcmVzdWx0ID0gZmlsZW5hbWUuc3Vic3RyaW5nKDAsIDYpOw0KICAgIGlmKHJlc3VsdCA9PSAiY29va2llIil7DQogICAgICAgICQoJyNvbmV0cnVzdC1jb25zZW50LXNkaycpLmFkZENsYXNzKCdkLW5vbmUnKQ0KICAgIH0NCiAgICBlbHNlew0KICAgICAgICAvLyBhbGVydChyZXN1bHQpDQogICAgfQ0KfQ0KDQokKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbigpew0KICAgIC8vIGlmKCQoJyN0aGFua3lvdS1tZXNzYWdlJykubGVuZ3RoKXsNCiAgICAvLyAgICAgc2V0VGltZW91dChmdW5jdGlvbigpew0KICAgIC8vICAgICAgICAgJChkb2N1bWVudCkuc2Nyb2xsVG9wKCQoJyN0aGFua3lvdS1tZXNzYWdlJykub2Zmc2V0KCkudG9wIC0gMTAwKQ0KICAgIC8vICAgICB9LDUwMCkgICAgDQogICAgLy8gfQ0KICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsNCiAgICAgICAgdmFyIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmDQogICAgICAgIHZhciBpbmRleCA9IHVybC5pbmRleE9mKCIjIik7DQogICAgICAgIGlmIChpbmRleCAhPT0gLTEpDQogICAgICAgIHsNCiAgICAgICAgICAgIHZhciBoYXNoID0gdXJsLnN1YnN0cmluZyhpbmRleCArIDEpLnJlcGxhY2VBbGwoJyMnLCAnJyk7DQogICAgICAgICAgICAkKGRvY3VtZW50KS5zY3JvbGxUb3AoJCgnIycgKyBoYXNoKS5vZmZzZXQoKS50b3AgLSAxMDApDQogICAgICAgIH0NCiAgICB9LDUwMCkNCiAgICANCn0pDQoNCg0KZnVuY3Rpb24gc3RpY2t5U3RyaXAoKXsNCiAgICB2YXIgaGVhZGVySGVpZ2h0ID0gJCgnaGVhZGVyJykuaGVpZ2h0KCk7DQogICAgJCgnLm93LXN0cmlwLWZpeGVkJykuZWFjaChmdW5jdGlvbihpbmRleCl7DQogICAgICAgIGlmKCQodGhpcykucG9zaXRpb24oKS50b3AgPCAxMCB8fCAoJCgnaGVhZGVyJykucHJldigpLmhhc0NsYXNzKCdvdy1zdHJpcC1maXhlZCcpIHx8ICQoJyN3cmFwcGVyJykucHJldigpLmhhc0NsYXNzKCdvdy1zdHJpcC1maXhlZCcpKSl7DQogICAgICAgICAgICB2YXIgc3RyaXBIZWlnaHQgPSAkKHRoaXMpLmhlaWdodCgpOw0KICAgICAgICAgICAgJCgnaGVhZGVyJykuY3NzKCd0b3AnLCBzdHJpcEhlaWdodCApDQogICAgICAgIH0NCg0KICAgICAgICBlbHNlIGlmKCQodGhpcykucG9zaXRpb24oKS50b3AgPiBoZWFkZXJIZWlnaHQgJiYgJCgnbWFpbicpLmZpbmQoJy5vdy1zdHJpcC1maXhlZCcpLmxlbmd0aCl7DQogICAgICAgICAgICAkKHRoaXMpLmNzcygndG9wJywgaGVhZGVySGVpZ2h0IC0gMzcpDQogICAgICAgIH0NCiAgICB9KQ0KfQ0KDQpmdW5jdGlvbiBiZ1Jlc2l6ZShlbGVtKXsNCiAgICBpZiAoZWxlbS5oYXNDbGFzcygndGV4dC13aGl0ZScpKSB7DQogICAgICAgIHZhciBiZ2ltZyA9ICQoZWxlbSkuYXR0cignc3R5bGUnKTsNCiAgICAgICAgJChlbGVtKS5hcHBlbmQoJzxkaXYgY2xhc3M9InN0cmV0Y2hlZC1iZyIgc3R5bGU9IicgKyBiZ2ltZy5yZXBsYWNlKCJcIiIsICJcJyIpICsgJyI+IDwvZGl2PicpOw0KICAgICAgICB2YXIgb2Zmc2V0bGVmdCA9ICQoZWxlbSkub2Zmc2V0KCkubGVmdA0KICAgICAgICB2YXIgY2FyZHdpZHRoID0gJChlbGVtKS53aWR0aCgpOw0KICAgICAgICB2YXIgYmd3aWR0aCA9IG9mZnNldGxlZnQgKyBjYXJkd2lkdGggKyA2MA0KICAgICAgICAkKGVsZW0pLmZpbmQoJy5zdHJldGNoZWQtYmcnKS5jc3MoJ3dpZHRoJywgYmd3aWR0aCk7DQogICAgfQ0KfQ0KDQp2YXIgcmVzaXplckNvbnQ7DQp3aW5kb3cub25yZXNpemUgPSBmdW5jdGlvbigpIHsNCiAgICBjbGVhclRpbWVvdXQocmVzaXplckNvbnQpOw0KICAgIHJlc2l6ZXJDb250ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsNCiAgICAgICAgYmdSZXNpemUoJCgnLm93LWNhcmQtYmFja2dyb3VuZC1pbWFnZScpKTsNCiAgICAgICAgc2xpZGVyLmluaXQoKTsNCiAgICB9LCAxMDApOw0KfTs=
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 6044
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20220721T163642Z
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        sitecore\admin
