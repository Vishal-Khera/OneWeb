---
ID: "1b3dab01-0cff-4465-95b7-39b95f1b665e"
Parent: "d800c068-9717-49a0-961e-f913d7c0053c"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: "/sitecore/media library/Themes/OneWeb/OneWeb/OneWeb/OneWeb/Scripts/4-LocateDistributor"
DB: master
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/1b3dab010cff446595b739b95f1b665e.ashx?h=16&thn=1&w=16&thm=1"
- ID: "2134867a-ac67-4dac-836c-a9264fd9d6d6"
  Hint: File Path
  Value: 
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "371fcd64-bac8-4d0f-93b6-df78041d2fec"
  Value: JCgiI2xvY2F0ZWRpc3RyaWJ1dG9yYnV0dG9uIikuY2xpY2soZnVuY3Rpb24oKSB7DQogIExvY2F0ZXNlYXJjaCgpOw0KfSk7DQoNCg0KDQokKCIjbG9jYXRlZGlzdHJpYnV0b3J0ZXh0Ym94Iikub24oJ2tleXByZXNzJyxmdW5jdGlvbihlKSB7DQogICAgaWYoZS53aGljaCA9PSAxMykgew0KICAgICAgICAgTG9jYXRlc2VhcmNoKCk7DQogICAgfQ0KfSk7DQpmdW5jdGlvbiBQb3B1bGF0ZURhdGFMb2NhdGUoRXZlbnRzKSB7DQoJdmFyIGxhdCA9IFtdOw0KCXZhciBsb25naT1bXTsNCgl2YXIgYXJyPVtdOw0KICAgIGZvciAodmFyIGkgPSAwOyBpIDwgRXZlbnRzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIGRlYnVnZ2VyOw0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGlzcGxheW5vbmUiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1hcCIpLnN0eWxlLmhlaWdodCA9ICI1MDBweCI7DQogICAgICAgIHZhciBvYmogPSBFdmVudHNbaV07DQoJCSQoIiNkZXN0aW5hdGlvbl9sYXQiKS5yZW1vdmUoKTsNCgkJJCgiI2Rlc3RpbmF0aW9uX2xvbmciKS5yZW1vdmUoKTsNCiAgICAgICAgdmFyIHh4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiSU5QVVQiKTsNCiAgICAgICAgeHguc2V0QXR0cmlidXRlKCJ0eXBlIiwgImhpZGRlbiIpOw0KICAgICAgICB4eC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwgIG9iai5MYXRpdHVkZSk7DQogICAgICAgIHh4LnNldEF0dHJpYnV0ZSgiaWQiLCAiZGVzdGluYXRpb25fbGF0Iik7DQogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoeHgpOw0KICAgICAgICB2YXIgeHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJJTlBVVCIpOw0KICAgICAgICB4eS5zZXRBdHRyaWJ1dGUoInR5cGUiLCAiaGlkZGVuIik7DQogICAgICAgIHh5LnNldEF0dHJpYnV0ZSgidmFsdWUiLCBvYmouTG9uZ2l0dWRlKTsNCiAgICAgICAgeHkuc2V0QXR0cmlidXRlKCJpZCIsICJkZXN0aW5hdGlvbl9sb25nIik7DQogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoeHkpOw0KCQkkKCcjbG9jYXRlZGF0YScpLmVtcHR5KCk7DQoJCSQoJyNsb2NhdGVkYXRhJykuYXBwZW5kKCc8ZGl2IGNsYXNzPSJjb21wb25lbnQgdGVzdGltb25pYWwtY2FyZCI+PGRpdiBjbGFzcz0iY29tcG9uZW50LWNvbnRlbnQiPjxkaXYgY2xhc3M9ImNhcmRzIj48ZGl2IGNsYXNzPSJjYXJkIj48ZGl2IGNsYXNzPSJjYXJkLWhlYWRlciI+PGRpdiBjbGFzcz0iY2FyZC1pbWFnZSI+PGltZyBzcmM9Iicrb2JqLkltYWdlLlVybCsnIj48L2Rpdj4gPGRpdiBjbGFzcz0iY2FyZC1oZWFkaW5nIj48aDIgY2xhc3M9Im5hbWUiPicrb2JqLlRpdGxlKyc8L2gyPjxoMyBjbGFzcz0iZGVzaWduYXRpb24iPicrb2JqLlN1YnRleHQrJzwvaDM+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0iY2FyZC1ib2R5Ij48ZGl2IGNsYXNzPSJjYXJkLXBhcmFncmFwaCI+IDx1bD4gPGxpPjxhIGhyZWY9InRlbDonK29iai5Nb2JpbGUrJyI+PGkgY2xhc3M9ImZhcyBmYS1waG9uZSBmYS1mdyI+PC9pPlBob25lOiAnK29iai5Nb2JpbGUrJyA8L2E+PC9saT4gPGxpPjxhIGhyZWY9Im1haWx0bzonK29iai5FbWFpbCsnIj48aSBjbGFzcz0iZmFzIGZhLWVudmVsb3BlIGZhLWZ3Ij48L2k+JytvYmouRW1haWwrJzwvYT48L2xpPjwvdWw+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7DQoJCWxhdC5wdXNoKG9iai5MYXRpdHVkZSk7DQoJCWxvbmdpLnB1c2gob2JqLkxvbmdpdHVkZSk7DQoJCWFyci5wdXNoKGxhdCxsb25naSk7DQoJCQ0KICAgICAgICBpbml0aWFsaXplKG9iai5MYXRpdHVkZSwgb2JqLkxvbmdpdHVkZSk7DQogICAgICAgIA0KICAgIH0NCn0NCg0KZnVuY3Rpb24gTG9jYXRlc2VhcmNoKCkNCnsNCgkgIHZhciBnZW9jb2RlciA9IG5ldyBnb29nbGUubWFwcy5HZW9jb2RlcigpOw0KICAgIHZhciBrZXl3b3JkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvY2F0ZWRpc3RyaWJ1dG9ydGV4dGJveCcpLnZhbHVlOw0KICAgIHZhciBrZXlzID0gIiI7DQoJdmFyIHNzPSBzdHJpbmdDb250YWluc051bWJlcihrZXl3b3JkKTsNCiAgICBpZiAoc3RyaW5nQ29udGFpbnNOdW1iZXIoa2V5d29yZCkpIHsNCiAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSB7DQogICAgICAgICAgICAiS2V5d29yZCI6IGtleXdvcmQNCiAgICAgICAgfTsNCgkJIGZldGNoKCJodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvZ2VvY29kZS9qc29uP2FkZHJlc3M9IitrZXl3b3JkKycma2V5PUFJemFTeUFJSEc1blBJZDY4dXduYlVJTXhxWmJzUE14V0d0d2tPSScpDQogICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQ0KICAgIC50aGVuKGRhdGEgPT4gew0KICAgICAgY29uc3QgbGF0aXR1ZGUgPSBkYXRhLnJlc3VsdHMuZ2VvbWV0cnkubG9jYXRpb24ubGF0Ow0KICAgICAgY29uc3QgbG9uZ2l0dWRlID0gZGF0YS5yZXN1bHRzLmdlb21ldHJ5LmxvY2F0aW9uLmxuZzsNCgl9KQ0KCQ0KICAgICAgICAkLmFqYXgoew0KICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JywNCiAgICAgICAgICAgIHVybDogIi9vbmV3ZWIvTG9jYXRlRGlzdHJpYnV0b3IvR2V0TG9jYXRlRGlzdHJpYnV0b3IiLA0KICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICdwYXJhbWV0ZXJzJzogcGFyYW1ldGVycw0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICBjYWNoZTogZmFsc2UsDQogICAgICAgICAgICBhc3luYzogZmFsc2UsDQogICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLA0KICAgICAgICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsNCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgIT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3dDb21tb24uaXNWYWxpZEpzb24ocmVzcG9uc2UuRXZlbnRzKSkgew0KCQkJCQkJCQkJCQkJCWlmKHJlc3BvbnNlLkV2ZW50cy5sZW5ndGg+MCl7DQoJCQkJCQkJCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5vcmVzdWx0Iikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQb3B1bGF0ZURhdGFMb2NhdGUocmVzcG9uc2UuRXZlbnRzKTsNCgkJCQkJCQkJCQkJCQl9DQoJCQkJCQkJCQkJCQkJZWxzZXsNCgkJCQkJCQkJCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5vcmVzdWx0Iikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQoJCQkJCQkJCQkJCQkJCQkkKCcjbG9jYXRlZGF0YScpLmVtcHR5KCk7ICAgICAgICAgICAgDQoJJCgnI2xvY2F0ZWRpc3RhbmNlJykuZW1wdHkoKTsNCgkJCQkJCQkJCQkJCQl9DQoJCQkJCQkJCQkJCQkJDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoJCQkJCQkJCQkJCQllbHNlew0KCQkJCQkJCQkJCQkJCSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibm9yZXN1bHQiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsNCgkJCQkJCQkJCQkJCQkgCSQoJyNsb2NhdGVkYXRhJykuZW1wdHkoKTsgICAgICAgICAgICANCgkkKCcjbG9jYXRlZGlzdGFuY2UnKS5lbXB0eSgpOw0KCQkJCQkJCQkJCQkJCQ0KCQkJCQkJCQkJCQkJfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhocikgew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHhocik7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0gZWxzZSB7DQoJCXZhciBwYXJhbWV0ZXJzMSAgPSBrZXl3b3JkOyAgICAgICAgDQoJCWZldGNoKCJodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvZ2VvY29kZS9qc29uP2FkZHJlc3M9IitrZXl3b3JkKycma2V5PUFJemFTeUFJSEc1blBJZDY4dXduYlVJTXhxWmJzUE14V0d0d2tPSScpDQogICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQ0KICAgIC50aGVuKGRhdGEgPT4gew0KICAgICAgY29uc3QgbGF0aXR1ZGUgPSBkYXRhLnJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb24ubGF0Ow0KICAgICAgY29uc3QgbG9uZ2l0dWRlID0gZGF0YS5yZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxuZzsJDQoJICB2YXIgYWRkPSBkYXRhLnJlc3VsdHNbMF0uZm9ybWF0dGVkX2FkZHJlc3MudHJpbSgpOwkNCgkgIA0KCSAgdmFyICB2YWx1ZT1hZGQuc3BsaXQoIiAiKTsNCgkgIGNvdW50PXZhbHVlLmxlbmd0aDsNCgkgIA0KCSAgdmFyIHJlc3VsdD12YWx1ZVtjb3VudC0xXTsNCgkgIGlmKHJlc3VsdC5pbmNsdWRlcygiSXNsYW5kIikpDQoJICB7DQoJCSAgcmVzdWx0PXZhbHVlW2NvdW50LTJdOw0KCSAgfQ0KCSAgdmFyIENvdW50cnk9cmVzdWx0OwkgICANCgkgIHZhciBjc3BsaXQ9IENvdW50cnkuc3BsaXQoIi0iKTsNCgkgIGNvdW50PWNzcGxpdC5sZW5ndGg7DQoJICB2YXIgRmNvdW50cnk9Y3NwbGl0W2NvdW50LTFdOw0KCSAgaWYoRmNvdW50cnk9PSJ1bmRlZmluZWQiKQ0KCSAgew0KCQkgIEZjb3VudHJ5PUNvdW50cnk7DQoJICB9DQoJICB2YXIgcGFyYW1ldGVycyA9IHsNCiAgICAgICAgICAgICJLZXl3b3JkIjogRmNvdW50cnkNCiAgICAgICAgfTsJDQoJCSB2YXIgbGF0aXR1ZGUxID0gbGF0aXR1ZGU7DQogICAgICAgICAgICAgICAgdmFyIGxvbmdpdHVkZTEgPSBsb25naXR1ZGU7CQkJCQ0KCQkJCSQoIiNjdXJyZW50X2xhdCIpLnJlbW92ZSgpOw0KCQkJCSQoIiNjdXJyZW50X2xvbmciKS5yZW1vdmUoKTsNCiAgICAgICAgICAgICAgICB2YXIgeCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIklOUFVUIik7DQogICAgICAgICAgICAgICAgeC5zZXRBdHRyaWJ1dGUoInR5cGUiLCAiaGlkZGVuIik7DQogICAgICAgICAgICAgICAgeC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwgbGF0aXR1ZGUxKTsNCiAgICAgICAgICAgICAgICB4LnNldEF0dHJpYnV0ZSgiaWQiLCAiY3VycmVudF9sYXQiKTsNCgkJCQlkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHgpOw0KICAgICAgICAgICAgICAgIHZhciB5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiSU5QVVQiKTsNCiAgICAgICAgICAgICAgICB5LnNldEF0dHJpYnV0ZSgidHlwZSIsICJoaWRkZW4iKTsNCiAgICAgICAgICAgICAgICB5LnNldEF0dHJpYnV0ZSgidmFsdWUiLCBsb25naXR1ZGUxKTsNCiAgICAgICAgICAgICAgICB5LnNldEF0dHJpYnV0ZSgiaWQiLCAiY3VycmVudF9sb25nIik7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh5KTsNCgkgIGlmKHJlc3VsdD09Ikdlcm1hbnkiIHx8IHJlc3VsdD09ICJEZXV0c2NobGFuZCIpew0KCQkgIA0KCQkgIENvdW50cnk9dmFsdWVbMF07DQoJCSAgdmFyIGxhdGxuZyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcobGF0aXR1ZGUsIGxvbmdpdHVkZSk7DQoJCSAgZ2VvY29kZXIuZ2VvY29kZSh7DQogICAgICAgICAgICAgICAgICAgICdsYXRMbmcnOiBsYXRsbmcNCiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXN1bHRzLCBzdGF0dXMpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PSBnb29nbGUubWFwcy5HZW9jb2RlclN0YXR1cy5PSykgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdHNbMF0pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgcmVzdWx0c1swXS5hZGRyZXNzX2NvbXBvbmVudHMubGVuZ3RoOyBqKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdHNbMF0uYWRkcmVzc19jb21wb25lbnRzW2pdLnR5cGVzWzBdID09ICdwb3N0YWxfY29kZScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzSW50ZWdlcihyZXN1bHRzWzBdLmFkZHJlc3NfY29tcG9uZW50c1tqXS5zaG9ydF9uYW1lKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXMgPSByZXN1bHRzWzBdLmFkZHJlc3NfY29tcG9uZW50c1tqXS5zaG9ydF9uYW1lOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXMgPSByZXN1bHRzWzBdLmFkZHJlc3NfY29tcG9uZW50c1tqXS5zaG9ydF9uYW1lOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIktleXdvcmQiOiByZXN1bHRzWzBdLmFkZHJlc3NfY29tcG9uZW50c1tqXS5zaG9ydF9uYW1lDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5hamF4KHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogIi9vbmV3ZWIvTG9jYXRlRGlzdHJpYnV0b3IvR2V0TG9jYXRlRGlzdHJpYnV0b3IiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3BhcmFtZXRlcnMnOiBwYXJhbWV0ZXJzDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGU6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJQT1NUIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG93Q29tbW9uLmlzVmFsaWRKc29uKHJlc3BvbnNlLkV2ZW50cykpIHsNCgkJCQkJCQkJCQkJCQlpZihyZXNwb25zZS5FdmVudHMubGVuZ3RoPjApew0KCQkJCQkJCQkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJub3Jlc3VsdCIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUG9wdWxhdGVEYXRhTG9jYXRlKHJlc3BvbnNlLkV2ZW50cyk7DQoJCQkJCQkJCQkJCQkJfQ0KCQkJCQkJCQkJCQkJCWVsc2V7DQoJCQkJCQkJCQkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJub3Jlc3VsdCIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOw0KCQkJCQkJCQkJCQkJCQkJJCgnI2xvY2F0ZWRhdGEnKS5lbXB0eSgpOyAgICAgICAgICAgIA0KCSQoJyNsb2NhdGVkaXN0YW5jZScpLmVtcHR5KCk7DQoJCQkJCQkJCQkJCQkJfQ0KCQkJCQkJCQkJCQkJCQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KCQkJCQkJCQkJCQkJZWxzZXsNCgkJCQkJCQkJCQkJCQkgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5vcmVzdWx0Iikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQoJCQkJCQkJCQkJCQkJIAkkKCcjbG9jYXRlZGF0YScpLmVtcHR5KCk7ICAgICAgICAgICAgDQoJJCgnI2xvY2F0ZWRpc3RhbmNlJykuZW1wdHkoKTsNCgkJCQkJCQkJCQkJCQkNCgkJCQkJCQkJCQkJCX0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhocikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh4aHIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQoNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KCSAgfWVsc2V7DQoJIA0KICANCiAgICAgICAgICAgICAgIA0KCQkJCXZhciBsYXRsbmcgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGxhdGl0dWRlLCBsb25naXR1ZGUpOw0KCQkJCSQuYWpheCh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICIvb25ld2ViL0xvY2F0ZURpc3RyaWJ1dG9yL0dldExvY2F0ZURpc3RyaWJ1dG9yIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwYXJhbWV0ZXJzJzogcGFyYW1ldGVycw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3luYzogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiUE9TVCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG93Q29tbW9uLmlzVmFsaWRKc29uKHJlc3BvbnNlLkV2ZW50cykpIHsNCgkJCQkJCQkJCQkJCQlpZihyZXNwb25zZS5FdmVudHMubGVuZ3RoPjApew0KCQkJCQkJCQkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJub3Jlc3VsdCIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUG9wdWxhdGVEYXRhTG9jYXRlKHJlc3BvbnNlLkV2ZW50cyk7DQoJCQkJCQkJCQkJCQkJfQ0KCQkJCQkJCQkJCQkJCWVsc2V7DQoJCQkJCQkJCQkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJub3Jlc3VsdCIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOw0KCQkJCQkJCQkJCQkJCQkJJCgnI2xvY2F0ZWRhdGEnKS5lbXB0eSgpOyAgICAgICAgICAgIA0KCSQoJyNsb2NhdGVkaXN0YW5jZScpLmVtcHR5KCk7DQoJCQkJCQkJCQkJCQkJfQ0KCQkJCQkJCQkJCQkJCQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KCQkJCQkJCQkJCQkJZWxzZXsNCgkJCQkJCQkJCQkJCQkgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5vcmVzdWx0Iikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQoJCQkJCQkJCQkJCQkJIAkkKCcjbG9jYXRlZGF0YScpLmVtcHR5KCk7ICAgICAgICAgICAgDQoJJCgnI2xvY2F0ZWRpc3RhbmNlJykuZW1wdHkoKTsNCgkJCQkJCQkJCQkJCQkNCgkJCQkJCQkJCQkJCX0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhocikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh4aHIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KCQkJCQkgIA0KCSAgfQ0KDQogICAgICAgICAgICAgICAgICAgIA0KICAgICANCgkJCQkgICAgICAgICAgICAgDQogICAgICAgIH0pICAgDQogICAgfQ0KfQ0KDQoNCmZ1bmN0aW9uIGluaXRpYWxpemUobGF0LCBsb25naSkgew0KICAgIGdlb2NvZGVyID0gbmV3IGdvb2dsZS5tYXBzLkdlb2NvZGVyKCk7DQogICAgdmFyIGxhdGxuZyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcobGF0LCBsb25naSk7DQogICAgdmFyIG1hcE9wdGlvbnMgPSB7DQogICAgICAgIHpvb206IDUsDQogICAgICAgIGNlbnRlcjogbGF0bG5nDQogICAgfQ0KICAgIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpLCBtYXBPcHRpb25zKTsNCiAgICBUZXN0TWFya2VyKGxhdCwgbG9uZ2kpOw0KICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcCwgJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHsNCiAgICAgICAgLy9hbGVydChldmVudC5sYXRMbmcpOyAgICAgICAgICANCiAgICAgICAgZ2VvY29kZXIuZ2VvY29kZSh7DQogICAgICAgICAgICAnbGF0TG5nJzogZXZlbnQubGF0TG5nDQogICAgICAgIH0sIGZ1bmN0aW9uKHJlc3VsdHMsIHN0YXR1cykgew0KICAgICAgICAgICAgaWYgKHN0YXR1cyA9PQ0KICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLkdlb2NvZGVyU3RhdHVzLk9LKSB7DQogICAgICAgICAgICAgICAgaWYgKHJlc3VsdHNbMV0pIHsNCiAgICAgICAgICAgICAgICAgICAgYWxlcnQocmVzdWx0c1sxXS5mb3JtYXR0ZWRfYWRkcmVzcyk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ05vIHJlc3VsdHMgZm91bmQnKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGFsZXJ0KCdHZW9jb2RlciBmYWlsZWQgZHVlIHRvOiAnICsgc3RhdHVzKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfSk7DQp9DQpmdW5jdGlvbiBhZGRNYXJrZXIobG9jYXRpb24pIHsNCiAgICBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHsNCiAgICAgICAgcG9zaXRpb246IGxvY2F0aW9uLA0KCQl0aXRsZTogJ25ldyBtYXJrZXInLA0KICAgICAgICBtYXA6IG1hcA0KICAgIH0pOw0KfQ0KZnVuY3Rpb24gaW5pdE1hcCgpIHsNCiAgICBjb25zdCBkaXJlY3Rpb25zU2VydmljZSA9IG5ldyBnb29nbGUubWFwcy5EaXJlY3Rpb25zU2VydmljZSgpOw0KICAgIGNvbnN0IGRpcmVjdGlvbnNSZW5kZXJlciA9IG5ldyBnb29nbGUubWFwcy5EaXJlY3Rpb25zUmVuZGVyZXIoKTsNCiAgICBjb25zdCBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtYXAiKSwgew0KICAgICAgICB6b29tOiA3LA0KICAgICAgIA0KICAgIH0pOw0KZGlzdGFuY2UoKTsNCiAgICBkaXJlY3Rpb25zUmVuZGVyZXIuc2V0TWFwKG1hcCk7DQogICAgY2FsY3VsYXRlQW5kRGlzcGxheVJvdXRlKGRpcmVjdGlvbnNTZXJ2aWNlLCBkaXJlY3Rpb25zUmVuZGVyZXIpOw0KDQp9DQoNCg0KICAgIGZ1bmN0aW9uIGRpc3RhbmNlKCkNCiAgICB7DQoJdmFyIGN1cnJlbnRfbGF0PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VycmVudF9sYXQnKS52YWx1ZTsNCgl2YXIgY3VycmVudF9sb25nPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VycmVudF9sb25nJykudmFsdWU7DQoJdmFyIGRlc3RpbmF0aW9uX2xhdD0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rlc3RpbmF0aW9uX2xhdCcpLnZhbHVlOw0KCXZhciBkZXN0aW5hdGlvbl9sb25nPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVzdGluYXRpb25fbG9uZycpLnZhbHVlOw0KICAgDQogICAgICAgIC8vIFRoZSBtYXRoIG1vZHVsZSBjb250YWlucyBhIGZ1bmN0aW9uDQogICAgICAgIC8vIG5hbWVkIHRvUmFkaWFucyB3aGljaCBjb252ZXJ0cyBmcm9tDQogICAgICAgIC8vIGRlZ3JlZXMgdG8gcmFkaWFucy4NCiAgICAgICAgbG9uMSA9ICBjdXJyZW50X2xvbmcgKiBNYXRoLlBJIC8gMTgwOw0KICAgICAgICBsb24yID0gZGVzdGluYXRpb25fbG9uZyAqIE1hdGguUEkgLyAxODA7DQogICAgICAgIGxhdDEgPSBjdXJyZW50X2xhdCAqIE1hdGguUEkgLyAxODA7DQogICAgICAgIGxhdDIgPSBkZXN0aW5hdGlvbl9sYXQgKiBNYXRoLlBJIC8gMTgwOw0KICAgDQogICAgICAgIC8vIEhhdmVyc2luZSBmb3JtdWxhDQogICAgICAgIGxldCBkbG9uID0gbG9uMiAtIGxvbjE7DQogICAgICAgIGxldCBkbGF0ID0gbGF0MiAtIGxhdDE7DQogICAgICAgIGxldCBhID0gTWF0aC5wb3coTWF0aC5zaW4oZGxhdCAvIDIpLCAyKQ0KICAgICAgICAgICAgICAgICArIE1hdGguY29zKGxhdDEpICogTWF0aC5jb3MobGF0MikNCiAgICAgICAgICAgICAgICAgKiBNYXRoLnBvdyhNYXRoLnNpbihkbG9uIC8gMiksMik7ICAgICAgICAgICAgICAgDQogICAgICAgIGxldCBjID0gMiAqIE1hdGguYXNpbihNYXRoLnNxcnQoYSkpOw0KICAgICAgICAvLyBSYWRpdXMgb2YgZWFydGggaW4ga2lsb21ldGVycy4gVXNlIDM5NTYNCiAgICAgICAgLy8gZm9yIG1pbGVzIDYzNzENCiAgICAgICAgbGV0IHIgPSAzOTU2OyAgIA0KCQlsZXQgZGlzdD1jICogcjsNCiAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSByZXN1bHQNCgkJICQoJyNsb2NhdGVkaXN0YW5jZScpLnRleHQoJ0Rpc3RhbmNlIDogJytNYXRoLmNlaWwoZGlzdCkrJyBLbScpOw0KICAgIH0NCg0KZnVuY3Rpb24gY2FsY3VsYXRlQW5kRGlzcGxheVJvdXRlKGRpcmVjdGlvbnNTZXJ2aWNlLCBkaXJlY3Rpb25zUmVuZGVyZXIpIHsNCiAgIAl2YXIgY3VycmVudF9sYXQ9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJyZW50X2xhdCcpLnZhbHVlOw0KCXZhciBjdXJyZW50X2xvbmc9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJyZW50X2xvbmcnKS52YWx1ZTsNCgl2YXIgZGVzdGluYXRpb25fbGF0PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVzdGluYXRpb25fbGF0JykudmFsdWU7DQoJdmFyIGRlc3RpbmF0aW9uX2xvbmc9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXN0aW5hdGlvbl9sb25nJykudmFsdWU7DQogICAgdmFyIHN0YXJ0ID0gY3VycmVudF9sYXQrICIsIitjdXJyZW50X2xvbmc7DQogICAgdmFyIGVuZCA9IGRlc3RpbmF0aW9uX2xhdCsiLCIrZGVzdGluYXRpb25fbG9uZyA7DQoNCiAgICBkaXJlY3Rpb25zU2VydmljZQ0KICAgICAgICAucm91dGUoew0KICAgICAgICAgICAgb3JpZ2luOiBzdGFydCwNCiAgICAgICAgICAgIGRlc3RpbmF0aW9uOiBlbmQsDQogICAgICAgICAgICB0cmF2ZWxNb2RlOiBnb29nbGUubWFwcy5UcmF2ZWxNb2RlLkRSSVZJTkcsDQogICAgICAgIH0pDQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgICAgZGlyZWN0aW9uc1JlbmRlcmVyLnNldERpcmVjdGlvbnMocmVzcG9uc2UpOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKGUpID0+IHdpbmRvdy5hbGVydCgiRGlyZWN0aW9ucyByZXF1ZXN0IGZhaWxlZCBkdWUgdG8gIiArIHN0YXR1cykpOw0KfQ0KDQogJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5jbGVhci10ZXh0TG9jYXRlJywgZnVuY3Rpb24gKGUpIHsJDQogICAgICAgICAgICBjbGVhclRleHQgPSB0cnVlOw0KICAgICAgICAgICAgY2FsbEV2ZW50MTIodGhpcykNCglkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGlzcGxheW5vbmUiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJub3Jlc3VsdCIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoJJCgnI2xvY2F0ZWRhdGEnKS5lbXB0eSgpOyAgICAgICAgICAgIA0KCSQoJyNsb2NhdGVkaXN0YW5jZScpLmVtcHR5KCk7DQogICAgICAgIH0pOw0KICQoZG9jdW1lbnQpLm9uKCdrZXl1cCcsICcjbG9jYXRlZGlzdHJpYnV0b3J0ZXh0Ym94JywgZnVuY3Rpb24gKGV2ZW50KSB7DQoJCSBpZigkKHRoaXMpLnZhbCgpLmxlbmd0aCA+IDApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5jbGVhci10ZXh0JykuYWRkQ2xhc3MoJ2QtYmxvY2snKTsJCQkJCQkJDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZigkKHRoaXMpLnZhbCgpLmxlbmd0aCA9PSAwKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuY2xlYXItdGV4dCcpLnJlbW92ZUNsYXNzKCdkLWJsb2NrJyk7DQoJCQkJCQkJIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkaXNwbGF5bm9uZSIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoJCQkJCQkJIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJub3Jlc3VsdCIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoJCQkJCQkJICQoJyNsb2NhdGVkYXRhJykuZW1wdHkoKTsNCgkJCQkJCQkgJCgnI2xvY2F0ZWRpc3RhbmNlJykuZW1wdHkoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiB9KTsNCiAgZnVuY3Rpb24gY2FsbEV2ZW50MTIoa2V5KXsNCiAgICAgICAgICAgICQoJyNsb2NhdGVkaXN0cmlidXRvcnRleHRib3gnKS52YWwoJycpOw0KICAgICAgICAgICAgJCgnI2xvY2F0ZWRpc3RyaWJ1dG9ydGV4dGJveCcpLmZvY3VzKCk7ICAgICAgICAgICANCiAgICAgICAgICAgICQoa2V5KS5yZW1vdmVDbGFzcygnZC1ibG9jaycpOw0KICAgICAgICAgICANCiAgICAgICAgICAgfQ0KLy8gVGVzdGluZyB0aGUgYWRkTWFya2VyIGZ1bmN0aW9uDQpmdW5jdGlvbiBUZXN0TWFya2VyKGxhdCwgbG9uZ2kpIHsNCiAgICBDZW50cmFsUGFyayA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcobGF0LCBsb25naSk7DQogICAgYWRkTWFya2VyKENlbnRyYWxQYXJrKTsNCn0NCiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHsNCglpZigkKCcjbm9yZXN1bHQnKS5sZW5ndGggPiAwKXsNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5vcmVzdWx0Iikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCgl9DQogdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOw0Kc2NyaXB0LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JzsNCg0Kc2NyaXB0LnNyYyA9ICdodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvanM/a2V5PUFJemFTeUFJSEc1blBJZDY4dXduYlVJTXhxWmJzUE14V0d0d2tPSSZhbXA7Y2FsbGJhY2s9aW5pdE1hcCc7DQpkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7ICAgDQoNCn0pDQoNCmZ1bmN0aW9uIHN0cmluZ0NvbnRhaW5zTnVtYmVyKF9zdHJpbmcpIHsNCiAgICByZXR1cm4gL1xkLy50ZXN0KF9zdHJpbmcpOw0KICB9
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 15864
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20220823T131916Z
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        sitecore\admin
